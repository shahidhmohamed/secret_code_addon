<?xml version="1.0" encoding="utf-8"?>
<odoo>

  <record id="secret_code_logs_list" model="ir.ui.view">
    <field name="name">secret.code.logs.list</field>
    <field name="model">secret_code_log</field>
    <field name="arch" type="xml">
      <list decoration-info="is_last_updated">
        <header>
          <button name="sync_frappe_logs" type="object" string="Fetch Frappe Logs" display="always"/>
        </header>
        <field name="searched_code"/>
        <field name="public_code"/>
        <field name="status" widget="badge" decoration-success="status == 'validated'" decoration-danger="status == 'rejected'"/>
        <field name="is_matched" widget="boolean" decoration-success="is_matched" decoration-danger="not is_matched"/>
        <field name="fail_reason" optional="show" widget="badge"/>
        <field name="success_attempt" optional="show" widget="badge" decoration-success="success_attempt &gt; 0" decoration-info="success_attempt == 0"/>
        <field name="message" optional="show"/>
        <field name="description" optional="show"/>
        <field name="search_city"/>
        <field name="search_country"/>
        <button name="action_view_location" type="object" icon="fa-map-marker" string="" class="oe_link o_list_button" invisible="not (search_latitude and search_longitude)"/>
        <field name="search_ip_address" optional="show"/>
        <field name="search_device_details" optional="show"/>
        <field name="search_latitude" optional="hide"/>
        <field name="search_longitude" optional="hide"/>
        <field name="create_date"/>
        <field name="write_date" decoration-info="write_date"/>
      </list>
    </field>
  </record>

  <record id="secret_code_logs_form" model="ir.ui.view">
    <field name="name">secret.code.logs.form</field>
    <field name="model">secret_code_log</field>
    <field name="arch" type="xml">
      <form>
        <sheet>
          <group>
            <group>
              <field name="searched_code"/>
              <field name="public_code"/>
              <field name="status"/>
              <field name="is_matched"/>
              <field name="fail_reason"/>
              <field name="success_attempt"/>
              <field name="message"/>
              <field name="description"/>
            </group>
            <group>
              <field name="search_ip_address" readonly="1"/>
              <field name="search_device_details" readonly="1"/>
            </group>
          </group>
          <group string="Location">
            <group>
              <field name="search_city"/>
              <field name="search_country"/>
            </group>
            <group>
              <field name="search_latitude" readonly="1"/>
              <field name="search_longitude" readonly="1"/>
            </group>
          </group>
        </sheet>
      </form>
    </field>
  </record>

  <record id="action_secret_code_logs" model="ir.actions.act_window">
    <field name="name">Secret Code Logs</field>
    <field name="res_model">secret_code_log</field>
    <field name="view_mode">list,form</field>
  </record>

  <menuitem id="secret_codes.menu_logs" parent="secret_codes.menu_root" name="Secret Code Logs" action="action_secret_code_logs" sequence="20" groups="secret_codes.group_secret_codes_access"/>

</odoo>
